
export function filterArray(array, activeFilters) {
    let filtered = [...array];
    const { 
        chosenItemType, 
        chosenDiscount, 
        chosenCategory, 
        chosenSorting 
    } = activeFilters;

    //FILTRO POR TIPO DE ITEM
    if (chosenItemType === 'Products') {
        filtered = filtered.filter((item) => item.price === 0);
    }
    if (chosenItemType === 'Services') {
        filtered = filtered.filter((item) => item.price > 0);
    }
    //FILTRO POR %DESC
    if (!chosenDiscount === 'All') {
        const minDiscount = Number(chosenDiscount.slice(1, -1));
        filtered = filtered.filter((item) => item.discount >= minDiscount);
    }
    //FILTRO POR CATEGORIA
    if (!chosenCategory === 'All categories') {
        filtered = filtered.filter((item) => item.category === chosenCategory);
    }
    //ORDENAMIENTOS
    switch(chosenSorting) {
        case 'Alphabetical':
            filtered = filtered.sort((a, b) => a.name.localeCompare(b.name));
            break;
        case 'Highest discount':
            filtered = filtered.sort((a, b) => a.discount - b.discount ? -1 : 1);
            break;
        default:
            console.log('ERROR: invalid sorting method chosen (at reduxUtils)');
    };
    return filtered;
}